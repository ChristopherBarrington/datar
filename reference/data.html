<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Load objects from a data repository — data • datarepository</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Load objects from a data repository — data" />
<meta property="og:description" content="A copy of the utils::data (4.1.0) function, copied into this namespace to use the datarepository:::find.package() function instead of base::find.package." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">datarepository</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/how-to.html">How to use `data repository`</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Load objects from a data repository</h1>
    
    <div class="hidden name"><code>data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A copy of the <code><a href='https://rdrr.io/r/utils/data.html'>utils::data</a></code> (4.1.0) function, copied into this namespace to use the <code>datarepository:::find.package()</code> function instead of <code><a href='https://rdrr.io/r/base/find.package.html'>base::find.package</a></code>.</p>
    </div>

    <pre class="usage"><span class='fu'>data</span><span class='op'>(</span>
  <span class='va'>...</span>,
  list <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span><span class='op'>(</span><span class='op'>)</span>,
  package <span class='op'>=</span> <span class='cn'>NULL</span>,
  lib.loc <span class='op'>=</span> <span class='cn'>NULL</span>,
  verbose <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"verbose"</span><span class='op'>)</span>,
  envir <span class='op'>=</span> <span class='va'>.GlobalEnv</span>,
  overwrite <span class='op'>=</span> <span class='cn'>TRUE</span>,
  <span class='va'>paths</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>Object(s) to load from data repository <em>or</em> loaded package</p></td>
    </tr>
    <tr>
      <th>list</th>
      <td><p>a character vector.</p></td>
    </tr>
    <tr>
      <th>package</th>
      <td><p>a character vector giving the package(s) to look
    in for data sets, or <code>NULL</code>.</p>
<p>By default, all packages in the search path are used, then
    the <code class="file">data</code> subdirectory (if present) of the current working
    directory.</p></td>
    </tr>
    <tr>
      <th>lib.loc</th>
      <td><p>a character vector of directory names of <span style="R">R</span> libraries,
    or <code>NULL</code>.  The default value of <code>NULL</code> corresponds to all
    libraries currently known.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>a logical.  If <code>TRUE</code>, additional diagnostics are
    printed.</p></td>
    </tr>
    <tr>
      <th>envir</th>
      <td><p>the <a href='https://rdrr.io/r/base/environment.html'>environment</a> where the data should be loaded.</p></td>
    </tr>
    <tr>
      <th>overwrite</th>
      <td><p>logical: should existing objects of the same name in
    <code class="env">envir</code> be replaced?</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A character vector of all data sets specified (whether found or not),
  or information about all available data sets in an object of class
  <code>"packageIQR"</code> if none were specified.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Currently, four formats of data files are supported:</p>
<p></p><ol>
<li><p>files ending <code class="file">.R</code> or <code class="file">.r</code> are
    <code><a href='https://rdrr.io/r/base/source.html'>source</a>()</code>d in, with the <span style="R">R</span> working directory changed
    temporarily to the directory containing the respective file.
    (<code>data</code> ensures that the <span class="pkg">utils</span> package is attached, in
    case it had been run <em>via</em> <code><a href='https://rdrr.io/r/utils/data.html'>utils::data</a></code>.)</p></li>
<li><p>files ending <code class="file">.RData</code> or <code class="file">.rda</code> are
    <code><a href='https://rdrr.io/r/base/load.html'>load</a>()</code>ed.</p></li>
<li><p>files ending <code class="file">.tab</code>, <code class="file">.txt</code> or <code class="file">.TXT</code> are read
    using <code><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a>(..., header = TRUE, as.is=FALSE)</code>,
    and hence
    result in a data frame.</p></li>
<li><p>files ending <code class="file">.csv</code> or <code class="file">.CSV</code> are read using
    <code><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a>(..., header = TRUE, sep = ";", as.is=FALSE)</code>,
    and also result in a data frame.</p></li>
</ol><p>If more than one matching file name is found, the first on this list
  is used.  (Files with extensions <code class="file">.txt</code>, <code class="file">.tab</code> or
  <code class="file">.csv</code> can be compressed, with or without further extension
  <code class="file">.gz</code>, <code class="file">.bz2</code> or <code class="file">.xz</code>.)</p>
<p>The data sets to be loaded can be specified as a set of character
  strings or names, or as the character vector <code>list</code>, or as both.</p>
<p>For each given data set, the first two types (<code class="file">.R</code> or <code class="file">.r</code>,
  and <code class="file">.RData</code> or <code class="file">.rda</code> files) can create several variables
  in the load environment, which might all be named differently from the
  data set.  The third and fourth types will always result in the
  creation of a single variable with the same name (without extension)
  as the data set.</p>
<p>If no data sets are specified, <code>data</code> lists the available data
  sets.  It looks for a new-style data index in the <code class="file">Meta</code> or, if
  this is not found, an old-style <code class="file">00Index</code> file in the <code class="file">data</code>
  directory of each specified package, and uses these files to prepare a
  listing.  If there is a <code class="file">data</code> area but no index, available data
  files for loading are computed and included in the listing, and a
  warning is given: such packages are incomplete.  The information about
  available data sets is returned in an object of class
  <code>"packageIQR"</code>.  The structure of this class is experimental.
  Where the datasets have a different name from the argument that should
  be used to retrieve them the index will have an entry like
  <code><a href='https://rdrr.io/r/datasets/beavers.html'>beaver1 (beavers)</a></code> which tells us that dataset <code>beaver1</code>
  can be retrieved by the call <code>data(beaver)</code>.</p>
<p>If <code>lib.loc</code> and <code>package</code> are both <code>NULL</code> (the
  default), the data sets are searched for in all the currently loaded
  packages then in the <code class="file">data</code> directory (if any) of the current
  working directory.</p>
<p>If <code>lib.loc = NULL</code> but <code>package</code> is specified as a
  character vector, the specified package(s) are searched for first
  amongst loaded packages and then in the default library/ies
  (see <code><a href='https://rdrr.io/r/base/libPaths.html'>.libPaths</a></code>).</p>
<p>If <code>lib.loc</code> <em>is</em> specified (and not <code>NULL</code>), packages
  are searched for in the specified library/ies, even if they are
  already loaded from another library.</p>
<p>To just look in the <code class="file">data</code> directory of the current working
  directory, set <code>package = character(0)</code>
  (and <code>lib.loc = NULL</code>, the default).</p>
    <h2 class="hasAnchor" id="good-practice"><a class="anchor" href="#good-practice"></a>Good practice</h2>

    

<p>There is no requirement for <code>data(<var>foo</var>)</code> to create an object
  named <code><var>foo</var></code> (nor to create one object), although it much
  reduces confusion if this convention is followed (and it is enforced
  if datasets are lazy-loaded).</p>  
<p><code>data()</code> was originally intended to allow users to load datasets
  from packages for use in their examples, and as such it loaded the
  datasets into the workspace <code><a href='https://rdrr.io/r/base/environment.html'>.GlobalEnv</a></code>.  This avoided
  having large datasets in memory when not in use: that need has been
  almost entirely superseded by lazy-loading of datasets.</p>
<p>The ability to specify a dataset by name (without quotes) is a
  convenience: in programming the datasets should be specified by
  character strings (with quotes).</p>
<p>Use of <code>data</code> within a function without an <code>envir</code> argument
  has the almost always undesirable side-effect of putting an object in
  the user's workspace (and indeed, of replacing any object of that name
  already there).  It would almost always be better to put the object in
  the current evaluation environment by
  <code>data(..., envir = environment())</code>.
  However, two alternatives are usually preferable,
  both described in the &#8216;Writing R Extensions&#8217; manual.</p><ul>
<li><p>For sets of data, set up a package to use lazy-loading of data.</p></li>
<li><p>For objects which are system data, for example lookup tables
    used in calculations within the function, use a file
    <code class="file">R/sysdata.rda</code> in the package sources or create the objects by
    <span style="R">R</span> code at package installation time.</p></li>
</ul><p>A sometimes important distinction is that the second approach places
  objects in the namespace but the first does not.  So if it is important
  that the function sees <code>mytable</code> as an object from the package,
  it is system data and the second approach should be used.  In the
  unusual case that a package uses a lazy-loaded dataset as a default
  argument to a function, that needs to be specified by <code><a href='https://rdrr.io/r/base/ns-dblcolon.html'>::</a></code>,
  e.g., <code><a href='https://rdrr.io/pkg/survival/man/survexp.us.html'>survival::survexp.us</a></code>.</p>
    <h2 class="hasAnchor" id="warning"><a class="anchor" href="#warning"></a>Warning</h2>

    

<p>This function creates objects in the <code>envir</code> environment (by
  default the user's workspace) replacing any which already
  existed. <code>data("foo")</code> can silently create objects other than
  <code>foo</code>: there have been instances in published  packages where it
  created/replaced <code><a href='https://rdrr.io/r/base/Random.html'>.Random.seed</a></code> and hence change the seed
  for the session.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>utils::data</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'>utils</span><span class='op'>)</span>
<span class='fu'>data</span><span class='op'>(</span><span class='op'>)</span>                         <span class='co'># list all available data sets</span>
<span class='kw'><a href='https://rdrr.io/r/base/try.html'>try</a></span><span class='op'>(</span><span class='fu'>data</span><span class='op'>(</span>package <span class='op'>=</span> <span class='st'>"rpart"</span><span class='op'>)</span> <span class='op'>)</span>  <span class='co'># list the data sets in the rpart package</span>
<span class='fu'>data</span><span class='op'>(</span><span class='va'>USArrests</span>, <span class='st'>"VADeaths"</span><span class='op'>)</span>    <span class='co'># load the data sets 'USArrests' and 'VADeaths'</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='co'>## Alternatively</span>
<span class='va'>ds</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"USArrests"</span>, <span class='st'>"VADeaths"</span><span class='op'>)</span>; <span class='fu'>data</span><span class='op'>(</span>list <span class='op'>=</span> <span class='va'>ds</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in data(list = ds): object 'ds' not found</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/help.html'>help</a></span><span class='op'>(</span><span class='va'>USArrests</span><span class='op'>)</span>                <span class='co'># give information on data set 'USArrests'</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Christopher Barrington.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


